<?xml version="1.0" encoding="utf-8"?>
<chapter xml:id="ch-func">
	<title>関数</title>
	<introduction>
		<p>本章では、集合間の対応関係である関数の概念を示した上で、関数の具体例やその性質について述べる。</p>
		<p><xref ref="sec-func-map"/>節では、集合の対応関係として関数を定義する。
		<xref ref="sec-func-graph"/>節では、関数を可視化する方法としてのグラフについて述べる。
		<xref ref="sec-func-poly"/>節では、多項式関数の性質について述べる。</p>
	</introduction>

	<section xml:id="sec-func-map">
		<title>写像と関数</title>
		<p>2つの集合の要素に対応関係が付いているとき、この対応関係を写像や関数と呼ぶ。</p>
		<definition>
			<title>写像と関数</title>
			<statement>
				<m>A, B</m>を集合とする。<m>f</m>が<m>A</m>の要素に<m>B</m>の要素を一つだけ対応させるとき、<m>f</m>を<m>A</m>から<m>B</m>への<dfn en="map">写像</dfn>または<dfn en="function">関数</dfn>といい、<m>f:A \to B</m>と表す。
				このとき、<m>A</m>を<m>f</m>の<dfn en="domain">定義域</dfn>、<m>B</m>を<m>f</m>の<dfn en="range">値域</dfn>という。
				また、写像<m>f</m>が<m>a (\in A)</m>に<m>b (\in B)</m>を対応させるとき、これを<m>f: a \mapsto b</m>または<m>f(a) = b</m>と表す。
				このとき、<m>b</m>を<dfn en="input">入力</dfn><m>a</m>に対する<m>f</m>の<dfn en="output">出力</dfn>または<dfn en="value">値</dfn>という。
			</statement>
		</definition>
		<p>「写像」と「関数」という用語は、分野によっては使い分けることもあるが、同じだと考えても特に問題ない。また、写像を「変換」や「対応」などと呼ぶこともある。
		「写像」は英語でmapまたはmappingであるが、「現実世界の地形」を「紙の上の図形」に対応づけて表したものが「地図(map)」であるので、地図と同様のものと考えることができる。
		また、関数は<dfn>函数</dfn>とも書き、入力に対して何らかの値を出力する「函(はこ)」だと考えることもできる。</p>
		<p><m>f: A \to B</m>は、<m>A</m>のすべての要素に対して対応する<m>B</m>の要素が一つだけ存在する。
		<m>a (\in A)</m>に対応する<m>B</m>の要素がなかったり、複数の要素が対応したりすることはできない。
		ただし、<m>B</m>の要素のうち、<m>A</m>の要素に対応しないものはあってもよい。</p>
		<example>
			<title>関数の例1</title>
			<statement>
				果物の集合<m>\text{Fruits} = \{\text{みかん}, \text{りんご}, \text{ぶどう}, \cdots\}</m>を考え、果物<m>x (\in \text{Fluits})</m>の店頭価格を<m>\text{price}(x)</m>で表すとする。
				例えば、<m>\text{price}(\text{みかん})=80, \text{price}(\text{りんご})=90, \text{price}(\text{ぶどう})=300</m>のようになる。
				<m>\text{price}</m>は果物の集合に対して自然数を一つ対応させているので写像であり、<m>\text{price}: \text{Fruits} \to \mathbb{N}</m>と表せる。
			</statement>
		</example>

		<p>関数を具体的に式の形で表せる場合は、入力を<m>x</m>などの変数で表して、入力<m>x</m>を与えたときの出力を式で書くことが多い。
		このとき、定義域を<m>x \in \mathbb{R}</m>や<m>0 \leqq x \leqq 1</m>のように、入力<m>x</m>を用いて表すことがある。
		なお、「実数の全体(<m>\mathbb{R}</m>)」のように「考えうるすべての値」が定義域である場合は、定義域の表記を省略することも多い。</p>
		<example>
			<title>関数の例2</title>
			<statement>
				<ul>
					<li><m>f(x) = 2x (x \in \mathbb{R})</m>は関数で、定義域は<m>\mathbb{R}</m>、値域は<m>\mathbb{R}</m>である。</li>
					<li><m>f(x) = x + 1 (0 \leqq x \leqq 1)</m>は関数で、定義域は<m>0 \leq x \leq 1</m>、値域は<m>1 \leq x \leq 2</m>である。<m>f</m>は<m>x = 0</m>で最小となり最小値は1、<m>x = 1</m>で最大となり最大値は2である。</li>
					<li><m>f(x)=\pm x (x \in \mathbb{R})</m>は、<m>x = 0</m>の場合を除いて<m>x</m>に対応する値が<m>x</m>と<m>-x</m>の二つ存在するので、関数ではない。</li>
				</ul>
			</statement>
		</example>

		<p>関数<m>f</m>に入力<m>x</m>を与えたときの出力を<m>y</m>とするとき、<m>y = f(x)</m>という方程式が成り立つ。この方程式<m>y = f(x)</m>を「関数<m>y = f(x)</m>」と呼ぶことがある。
		また、関数に名前をつけず、入力が<m>x</m>であるという前提で<m>y = x^2 + 2x + 1</m>のように書いて、これを「関数<m>y = x^2 + 2x + 1</m>」と呼ぶこともある。
		これらの方程式の場合、関数はあくまで方程式の右辺側の式を指すのであるのが本来であり、方程式を「関数」と呼ぶのは適切な呼び方ではない。
		だが、このような表記は一般的によく使われるので、注意が必要である。</p>
	</section>

	<section xml:id="sec-func-graph">
		<title>グラフ</title>
		<p>関数のグラフを座標空間に図示すると、関数の値の変化を目で見て分かるように可視化できる。</p>
		<definition>
			<title>グラフ</title>
			<statement>
				関数<m>f: \mathbb{R} \to \mathbb{R}</m>について、集合<m>\{ (x, y) | x \in \mathbb{R}, y = f(x) \}</m>を<m>f</m>の<dfn en="graph">グラフ</dfn>という。
				また、関数<m>f: \mathbb{R}^2 \to \mathbb{R}</m>について、集合<m>\{ (x, y, z) | x, y \in \mathbb{R}, z = f(x, y) \}</m>を<m>f</m>のグラフという。
				このとき、<m>y = f(x)</m>や<m>z = f(x, y)</m>をそれぞれのグラフの方程式という。
			</statement>
		</definition>

		<algorithm>
			<title>グラフの描き方</title>
			<statement>
				<ol>
					<li>軸と原点を描く。<m>xy</m>平面の場合は<m>x</m>軸と<m>y</m>軸を書き、それぞれの軸の端に「<m>x</m>」「<m>y</m>」と記す。<m>x</m>軸と<m>y</m>軸の交点に原点を表す記号<m>O</m>を記す。</li>
					<li>軸との交点を探し、もし交点があれば交点の座標を書き込む。<m>xy</m>平面の場合は<m>y = 0</m>を代入して<m>x</m>軸との交点を求め、<m>x = 0</m>を代入して<m>y</m>軸との交点を求める。</li>
					<li><m>x = \pm 1, \pm 2, \pm \frac{1}{2}</m>などいくつかの値を代入して、グラフの概形を推測する。</li>
					<li>以上の点を通る線を描く。線上で条件を満たす端点は白丸「○」で、条件を満たさない端点は黒丸「●」で表す。
						曲線を描く場合は、「曲がり方が急になる・緩やかになる」「ある値へ近づく」など、どのような曲がり方をしているかを意識し、できるだけ曲線の特徴を反映させて描く。</li>
				</ol>
			</statement>
		</algorithm>
	</section>

	<section xml:id="sec-func-poly">
		<title>多項式関数</title>
		<p>関数のうち最も単純なものは、多項式で表される多項式関数である。</p>
		<definition>
			<title>多項式関数</title>
			<statement>
				多項式で表される関数を<dfn en="polynomial function">多項式関数</dfn>という。
				特に、多項式の次数が<m>n (\in \mathbb{N})</m>であるとき、この関数を<dfn>n次関数</dfn>という。
			</statement>
		</definition>
	</section>
</chapter>
